<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">
<link rel="import" href="../dateofbirth-datepicker/dateofbirth-datepicker.html">
<dom-module id="detailed-enquiry-form">
  <template>
    <div class="row enquiry-form">
      <div class="list-group col-sm-12 panel-body form-category">
          <div class="input-group custom-search-form col-sm-6 col-md-offset-3">
            <input type="text" class="form-control" id="searchtext" placeholder="Enter Enquiry Number">
            <span class="input-group-btn">
              <button class="btn btn-default" on-click="search" type="button">
                <i class="fa fa-search"></i>
              </button>
            </span>
          </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-4 enquiry-input">
          <paper-input label="First Name" value="{{firstname}}"></paper-input>
        </div>
        <div class="col-sm-4 enquiry-input">
          <paper-input label="Middle Name" value="{{middlename}}"></paper-input>
        </div>
        <div class="col-sm-4 enquiry-input">
          <paper-input label="Last Name" value="{{lastname}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6 enquiry-input">
          <label>Gender</label>
          <div class="gender">
            <span class="col-sm-6"><paper-checkbox id="dfmale" class="checkbox" on-change="maleHandler">Male</paper-checkbox></span>
            <span class="col-sm-6"><paper-checkbox  id="dffemale" class="checkbox" on-change="femaleHandler">Female</paper-checkbox></span>
          </div>
        </div>
        <div class="col-sm-6 enquiry-input">
          <paper-input label="Class Admission Seeking for" value="{{grade}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Date of Birth" value="{{dob}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Age as on 31st March 2016" value="{{age}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Present School and Class" value="{{oldclass}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mother Tongue" value="{{mothertongue}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Father's Name" value="{{fathername}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mother's Name" value="{{mothername}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Father's Qualification" value="{{fatheredu}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mother's Qualification" value="{{motheredu}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Father's Contact Number" value="{{fathermob}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mother's Contact Number" value="{{mothermob}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Father's Email ID" value="{{fathermail}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mother's Email ID" value="{{mothermail}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Company Name" value="{{fathercompany}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Company Name" value="{{mothercompany}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Designation" value="{{fatherjob}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Designation" value="{{motherjob}}"></paper-input>
        </div>
      </div>
      <div class="form-group-heading">
        <h4>Residential Address</h4>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-textarea label="Address Line 1"></paper-textarea>
        </div>
        <div class="col-sm-6">
          <paper-textarea label="Address Line 2"></paper-textarea>
        </div>
        <div class="col-sm-6">
          <paper-textarea label="Address Line 3"></paper-textarea>
        </div>
        <div class="col-sm-6">
          <paper-input label="City" value="{{city}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Pincode" value="{{pincode}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-dropdown-menu label="Enquiry Source" >
            <paper-menu id="source" class="dropdown-content" required on-iron-select="source" valueattr="value" >
              <paper-item >Zee Television Ads</paper-item>
              <paper-item >Newspaper</paper-item>
              <paper-item >Print Media</paper-item>
              <paper-item >Poll Board</paper-item>
              <paper-item >Direction Boards</paper-item>
              <paper-item >Bounties</paper-item>
              <paper-item >FM/Radio</paper-item>
              <paper-item >BTL Activities</paper-item>
              <paper-item >Referrer</paper-item>
              <paper-item >Weblinks</paper-item>
              <paper-item >Website</paper-item>
            </paper-menu>
          </paper-dropdown-menu>
        </div>
        <div class="col-sm-6">
          <paper-input label="Names and classes of siblinngs" value="{{siblingname}}"></paper-input>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <span><paper-checkbox id="transport" class="checkbox" on-change="transportHandler">Like to Avail Transport ?</paper-checkbox></span>
        </div>
        <div class="col-sm-6">
          <span><paper-checkbox id="canteen" class="checkbox" on-change="canteenHandler">Like to Avail Canteen Facility ?</paper-checkbox></span>
        </div>
      </div>
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
            <span class="col-sm-12"><h5>2nd Language</h5></span>
          <span><paper-checkbox class="col-sm-6" id="secondhindi" class="checkbox" on-change="hindiHandler">Hindi</paper-checkbox></span>
          <span><paper-checkbox class="col-sm-6" id="secondkannada" class="checkbox" on-change="kannadaHandler">Kannada</paper-checkbox></span>
        </div>
        <div class="col-sm-6">
          <span class="col-sm-12"><h5>3rd Language</h5></span>
          <span><paper-checkbox class="col-sm-3" id="thirdfrench" class="checkbox" on-change="frenchHandler">French</paper-checkbox></span>
          <span><paper-checkbox class="col-sm-3" id="thirdsanskrit" class="checkbox" on-change="sanskritHandler">Sanskrit</paper-checkbox></span>
          <span><paper-checkbox class="col-sm-3" id="thirdkannada" class="checkbox" on-change="kannadaHandler">Kannada</paper-checkbox></span>
          <span><paper-checkbox class="col-sm-3" id="thirdhindi" class="checkbox" on-change="hindiHandler">Hindi</paper-checkbox></span>
        </div>
      </div>
      <div class="col-md-12 form-button">
        <paper-button class="btn btn-primary" on-click="submit">SUBMIT</paper-button>
      </div>
       <crm-service id="service"></crm-service>
    </div>
  </template>
  <script>
  (function() {
    'use strict';
        var gender;
    Polymer({
      is: 'detailed-enquiry-form',
      search:function(){
        var enqno=document.getElementById('searchtext').value;
        //alert(this.enqno+'    '+enqno);
        this.$.service.getenqirydetails(enqno);
      },
      Fnresult:function(dob,gender){
        alert(gender);
        var dt1=new Date(dob);
          
          var dt=new Date();
          var pr_year=dt.getFullYear();
          var bt_year=dt1.getFullYear();
          var diff=parseInt(pr_year-bt_year);
          //alert(diff);
          this.age=diff+" Years";

          if(gender=='Male'){
            gender="Male";
           document.querySelector("#dfmale").checked=true;
           document.querySelector("#dffemale").checked=false;
           }
           else{
            gender="Female";
            document.querySelector("#dfmale").checked=false;
           document.querySelector("#dffemale").checked=true;
           }
    }

    });
  })();
  </script>
</dom-module>
