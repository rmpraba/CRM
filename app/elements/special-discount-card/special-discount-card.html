
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="special-discount-card">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <span class="col-sm-4"><paper-checkbox id="check{{code}}" value="code" on-change="discountHandler">{{discountname}}</paper-checkbox></span>
  </template>
  <script>
  (function() {
    'use strict';
    var checkedbox="";
    Polymer({
      is: 'special-discount-card',
      ready:function(){
        if(checkedbox=="")
        {}
        else{        
        document.querySelector('#check'+checkedbox).checked=false;   
        }
      },
      discountHandler:function(e){ 
        if(checkedbox=="")
          checkedbox=this.code;
        else{
        if(checkedbox!=this.code)
        document.querySelector('#check'+checkedbox).checked=false;   
        }
        if(document.querySelector('#check'+this.code).checked==true){        
        checkedbox=this.code;
        document.querySelector('newenquiry-card').setDiscountType(this.code);
        document.querySelector('admission-form').setDiscountType(this.code);
      }
      },
      setCheckedHandler:function(dcode){
        this.code=(dcode).trim();
        document.querySelector('#check'+this.code).checked=true;
        document.querySelector('admission-form').setDiscountType(this.code);
      }
    });
  })();
  </script>
</dom-module>
