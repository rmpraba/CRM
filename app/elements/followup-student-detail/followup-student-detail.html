<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="followup-student-detail">
  <template>
    <div class="row enquiry-form">
      <div class="list-group col-sm-12 panel-body form-category">
        <div class="list-group col-sm-12 panel-body form-category">
          <div class="col-sm-6">
            <paper-input label="Enquiry No" value="{{enqno}}"></paper-input>
          </div>
          <div class="col-sm-6">
            <paper-input label="Name" value="{{name}}"></paper-input>
          </div>
        </div>
        <div class="list-group col-sm-12 panel-body form-category">
          <div class="col-sm-6">
            <paper-input label="Grade" value="{{grade}}"></paper-input>
          </div>
          <div class="col-sm-6">
            <paper-input label="Enquired On" value="{{enquiredon}}"></paper-input>
          </div>
        </div>        <div class="list-group col-sm-12 panel-body form-category">
        <div class="col-sm-6">
          <paper-input label="Parent Name" value="{{parentname}}"></paper-input>
        </div>
        <div class="col-sm-6">
          <paper-input label="Mobile No" value="{{mobileno}}"></paper-input>
        </div>
      </div>
      </div>
      <table class="table table-striped">
        <thead>
        <tr>
          <th>S.No</th>
          <th>Date</th>
          <th>Confidence Level</th>
          <th>Comments</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <th scope="row">1</th>
          <td>
            <span class="col-sm-8"><paper-input label="Date" value="{{followupdate1}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-pencil"></button></span>
          </td>
          <td>
            <paper-dropdown-menu label="Confidence Level">
              <paper-listbox id="confidencelevel1" class="dropdown-content" on-iron-select="FnConfidenceLevel">
                <paper-item value=1>>90%</paper-item>
                <paper-item value=2>>75%</paper-item>
                <paper-item value=3>>50%</paper-item>
                <paper-item value=4><50%</paper-item>
                <paper-item value=5><35%</paper-item>
                <paper-item value=6><10%</paper-item>
              </paper-listbox>
            </paper-dropdown-menu>
          </td>
          <td>
            <span class="col-sm-8"><paper-input label="Comments" value="{{comments1}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-floppy-disk" on-click="FollowUp1"></button></span>
          </td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>
            <span class="col-sm-8"><paper-input label="Date" value="{{followupdate2}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-pencil"></button></span>
          </td>
          <td>
            <paper-dropdown-menu label="Confidence Level">
              <paper-menu id="confidencelevel2" class="dropdown-content" required on-iron-select="FnConfidenceLevel" valueattr="value" >
                <paper-item value=1>>90%</paper-item>
                <paper-item value=2>>75%</paper-item>
                <paper-item value=3>>50%</paper-item>
                <paper-item value=4><50%</paper-item>
                <paper-item value=5><35%</paper-item>
                <paper-item value=6><10%</paper-item>
              </paper-menu>>
            </paper-dropdown-menu>
          </td>
          <td>
            <span class="col-sm-8"><paper-input label="Comments" value="{{comments2}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-floppy-disk" on-click="FollowUp2"></button></span>
          </td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td>
            <span class="col-sm-8"><paper-input label="Date" value="{{followupdate3}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-pencil"></button></span>
          </td>
          <td>
            <paper-dropdown-menu label="Confidence Level">
              <paper-listbox id="confidencelevel3" class="dropdown-content" on-iron-select="Fnprospectusstatus">
                <paper-item value=1>>90%</paper-item>
                <paper-item value=2>>75%</paper-item>
                <paper-item value=3>>50%</paper-item>
                <paper-item value=4><50%</paper-item>
                <paper-item value=5><35%</paper-item>
                <paper-item value=6><10%</paper-item>
              </paper-listbox>
            </paper-dropdown-menu>
          </td>
          <td>
            <span class="col-sm-8"><paper-input label="Comments" value="{{comments3}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-floppy-disk" on-click="FollowUp3"></button></span>
          </td>
        </tr>
        <tr>
          <th scope="row">4</th>
          <td>
            <span class="col-sm-8"><paper-input label="Date" value="{{followupdate4}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-pencil"></button></span>
          </td>
          <td>
            <paper-dropdown-menu label="Confidence Level">
              <paper-listbox id="confidencelevel4" class="dropdown-content" on-iron-select="Fnprospectusstatus">
                <paper-item value=1>>90%</paper-item>
                <paper-item value=2>>75%</paper-item>
                <paper-item value=3>>50%</paper-item>
                <paper-item value=4><50%</paper-item>
                <paper-item value=5><35%</paper-item>
                <paper-item value=6><10%</paper-item>
              </paper-listbox>
            </paper-dropdown-menu>
          </td>
          <td>
            <span class="col-sm-8"><paper-input label="Comments" value="{{comments4}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-floppy-disk" on-click="FollowUp4"></button></span>
          </td>
        </tr><tr>
          <th scope="row">5</th>
          <td>
            <span class="col-sm-8"><paper-input label="Date" value="{{followupdate5}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-pencil"></button></span>
          </td>
          <td>
            <paper-dropdown-menu label="Confidence Level">
              <paper-listbox id="confidencelevel5" class="dropdown-content" on-iron-select="Fnprospectusstatus">
                <paper-item value=1>>90%</paper-item>
                <paper-item value=2>>75%</paper-item>
                <paper-item value=3>>50%</paper-item>
                <paper-item value=4><50%</paper-item>
                <paper-item value=5><35%</paper-item>
                <paper-item value=6><10%</paper-item>
              </paper-listbox>
            </paper-dropdown-menu>
          </td>
          <td>
            <span class="col-sm-8"><paper-input label="Comments" value="{{comments5}}"></paper-input></span>
            <span class="col-sm-4 glyph-button"><button class="btn glyphicon glyphicon-floppy-disk" on-click="FollowUp5"></button></span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <button type="button" data-toggle="modal" data-target="#myModal" data-backdrop="static" data-keyboard="false" on-click="followupstatus">Launch modal</button>
    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Set status for Follow-up</h4>
          </div>
          <div class="modal-body col-sm-6 col-sm-offset-3" style="height: 100px;">
            <paper-dropdown-menu label="Status">
              <paper-listbox class="dropdown-content" on-iron-select="FnConfidenceLevel">
                <paper-item>In Progress</paper-item>
                <paper-item>Closed</paper-item>
                <paper-item>Exhausted</paper-item>
                <paper-item>Schedule New Followup</paper-item>
              </paper-listbox>
            </paper-dropdown-menu>
            <button type="button" class="btn btn-primary col-sm-4 col-sm-offset-4" data-dismiss="modal">Submit</button>
          </div>
          <div class="modal-footer">

          </div>
        </div>

      </div>
    </div>
  </template>
  <script>
  (function() {
    'use strict';
    var confidencelevel;
    Polymer({
      is: 'followup-student-detail',
      FnConfidenceLevel:function(e){
        confidencelevel=(e.target.selectedItem.textContent).trim();
      },
      FollowUp1:function(){
        this.$.service.FollowUp1(this.enqno,this.followupdate1,confidencelevel,this.comments);
      },
      FollowUp2:function(){
        this.$.service.FollowUp2(this.enqno,this.followupdate2,confidencelevel,this.comments);
      },
      FollowUp3:function(){
        this.$.service.FollowUp3(this.enqno,this.followupdate3,confidencelevel,this.comments);
      },
      FollowUp4:function(){
        this.$.service.FollowUp4(this.enqno,this.followupdate4,confidencelevel,this.comments);
      },
      FollowUp5:function(){
        this.$.service.FollowUp5(this.enqno,this.followupdate5,confidencelevel,this.comments);
      },
      confidencelvl1:function(confidencelevel1){
        if( confidencelevel1 == ">90%" ){
          document.querySelector('#confidencelevel1').selected=0;
        } else if ( confidencelevel1 == ">75%" ){
          document.querySelector('#confidencelevel1').selected=1;
        } else if ( confidencelevel1 == ">50%" ){
          document.querySelector('#confidencelevel1').selected=2;
        } else if ( confidencelevel1 == "<50%" ){
          document.querySelector('#confidencelevel1').selected=3;
        } else if ( confidencelevel1 == "<35%" ){
          document.querySelector('#confidencelevel1').selected=4;
        } else {
          document.querySelector('#confidencelevel1').selected=5;
        }
      },
      confidencelvl2:function(confidencelevel2){
        if( confidencelevel1 == ">90%" ){
          document.querySelector('#confidencelevel2').selected=0;
        } else if ( confidencelevel2 == ">75%" ){
          document.querySelector('#confidencelevel2').selected=1;
        } else if ( confidencelevel2 == ">50%" ){
          document.querySelector('#confidencelevel2').selected=2;
        } else if ( confidencelevel2 == "<50%" ){
          document.querySelector('#confidencelevel2').selected=3;
        } else if ( confidencelevel2 == "<35%" ){
          document.querySelector('#confidencelevel2').selected=4;
        } else if ( confidencelevel2 == "<10%" ){
          document.querySelector('#confidencelevel2').selected=5;
        } else {
          document.querySelector('#confidencelevel2').selected=-1;
        }
      },
      confidencelvl3:function(confidencelevel3){
        if( confidencelevel3 == ">90%" ){
          document.querySelector('#confidencelevel3').selected=0;
        } else if ( confidencelevel3 == ">75%" ){
          document.querySelector('#confidencelevel3').selected=1;
        } else if ( confidencelevel3 == ">50%" ){
          document.querySelector('#confidencelevel3').selected=2;
        } else if ( confidencelevel3 == "<50%" ){
          document.querySelector('#confidencelevel3').selected=3;
        } else if ( confidencelevel3 == "<35%" ){
          document.querySelector('#confidencelevel3').selected=4;
        }  else if ( confidencelevel3 == "<10%" ){
          document.querySelector('#confidencelevel3').selected=5;
        } else {
          document.querySelector('#confidencelevel3').selected=-1;
        }
      },
      confidencelvl4:function(confidencelevel4){
        if( confidencelevel4 == ">90%" ){
          document.querySelector('#confidencelevel4').selected=0;
        } else if ( confidencelevel4 == ">75%" ){
          document.querySelector('#confidencelevel4').selected=1;
        } else if ( confidencelevel4 == ">50%" ){
          document.querySelector('#confidencelevel4').selected=2;
        } else if ( confidencelevel4 == "<50%" ){
          document.querySelector('#confidencelevel4').selected=3;
        } else if ( confidencelevel4 == "<35%" ){
          document.querySelector('#confidencelevel4').selected=4;
        } else if ( confidencelevel4 == "<10%" ){
          document.querySelector('#confidencelevel4').selected=5;
        } else {
          document.querySelector('#confidencelevel4').selected=-1;
        }
      },
      confidencelvl5:function(confidencelevel5){
        if( confidencelevel5 == ">90%" ){
          document.querySelector('#confidencelevel5').selected=0;
        } else if ( confidencelevel5 == ">75%" ){
          document.querySelector('#confidencelevel5').selected=1;
        } else if ( confidencelevel5 == ">50%" ){
          document.querySelector('#confidencelevel5').selected=2;
        } else if ( confidencelevel5 == "<50%" ){
          document.querySelector('#confidencelevel5').selected=3;
        } else if ( confidencelevel5 == "<35%" ){
          document.querySelector('#confidencelevel5').selected=4;
        }  else if ( confidencelevel5 == "<10%" ){
          document.querySelector('#confidencelevel5').selected=5;
        } else {
          document.querySelector('#confidencelevel5').selected=-1;
        }
      }
    });
  })();
  </script>
</dom-module>
